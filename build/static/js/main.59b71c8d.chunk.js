(this.webpackJsonpprogramom=this.webpackJsonpprogramom||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var r,c,a=n(5),i=n(0),o=n.n(i),s=n(10),l=n.n(s),u=n(17),d=n(62),h=n(3),p=n(165),j=n(11),b=n(174),f=n(175),g=n(164),m=n(173),x=n(160),v=n(183),O=n(163),w=n(185),y=n(167),k=n(168),C=n(113),_=n(182),S=n(176),N=n(177),P=n(179),A=n(178),B=n(180),M=n(184),W=n(170),D=n(63),T=n.n(D),F=n(166),I=n(169),R=(n.p,n.p+"static/media/poster.23bcae56.jpg"),q=n(16),z=n.n(q),V=n(22);function H(){return(H=Object(V.a)(z.a.mark((function e(t){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/search/movie?api_key=5863736706c2c1885e88c279d92b75cf&language=en-US&query=".concat(t,"&page=1&include_adult=false"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function J(){return(J=Object(V.a)(z.a.mark((function e(t){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"/similar?api_key=5863736706c2c1885e88c279d92b75cf&language=en-US&page=1"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function U(e){return G.apply(this,arguments)}function G(){return(G=Object(V.a)(z.a.mark((function e(t){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"/external_ids?api_key=5863736706c2c1885e88c279d92b75cf"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function K(){return(K=Object(V.a)(z.a.mark((function e(t){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://imdb-api.com/en/API/Wikipedia/k_r9op1fcg/".concat(t),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search Wiki ID");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var L="Click on a movie above after search to see details",E="",Q="",X=0,Y="Movies will be listed here after search",Z=!1,$=[];function ee(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function te(e,t){return"desc"===e?function(e,n){return ee(e,n,t)}:function(e,n){return-ee(e,n,t)}}function ne(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}var re=[{id:"title",numeric:!1,disablePadding:!1,label:"Title"},{id:"genre",numeric:!1,disablePadding:!1,label:"Genre"},{id:"popularity",numeric:!0,disablePadding:!1,label:"Popularity"},{id:"voteCount",numeric:!0,disablePadding:!1,label:"Vote_#"},{id:"voteAverage",numeric:!0,disablePadding:!1,label:"Vote_Avg"}];function ce(e){var t=e.classes,n=(e.onSelectAllClick,e.order),r=e.orderBy,c=(e.rowCount,e.onRequestSort);return Object(a.jsx)(x.a,{children:Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{}),re.map((function(e){return Object(a.jsx)(g.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n,children:Object(a.jsxs)(w.a,{active:r===e.id,direction:r===e.id?n:"asc",onClick:(i=e.id,function(e){c(e,i)}),children:[e.label,r===e.id?Object(a.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))]})})}var ae=Object(p.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(j.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},tableRow:{height:70}}})),ie=function(e){var t=ae();return Z?Object(a.jsx)(F.a,{}):Object(a.jsx)(y.a,{className:Object(h.a)(t.root),children:Object(a.jsx)(k.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",onClick:function(e){alert("Title click")},children:Y})})},oe=Object(p.a)((function(e){return{root:{maxWidth:2e3,background:"lightgrey"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},textField:{width:"75ch"},margin:{margin:e.spacing(10)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),se=Object(p.a)({root:{maxWidth:1200,boxShadow:"0 0px 0px 0px"},media:{height:0}});function le(){var e=oe(),t=se(),n=o.a.useState("desc"),i=Object(u.a)(n,2),s=i[0],l=i[1],h=o.a.useState(""),p=Object(u.a)(h,2),j=p[0],x=p[1],w=o.a.useState([]),y=Object(u.a)(w,2),D=y[0],F=y[1],q=o.a.useState(0),z=Object(u.a)(q,2),V=z[0],G=z[1],ee=o.a.useState(5),re=Object(u.a)(ee,2),ae=re[0],le=(re[1],function(e){var t,n="",c="",a="";U(X).then((function(e){return r=e})).then((function(e){return n=r.imdb_id})).then((function(e){return function(e){return K.apply(this,arguments)}(n).then((function(e){return t=e})).then((function(e){return c=t.url})).then((function(e){return a=t.plotShort.html})).then((function(e){return E=a})).then((function(e){return window.open(c,"_blank","status=yes")}))}))}),ue=function(e){Y=L+" - related movies",function(e){return J.apply(this,arguments)}(X).then((function(e){return r=e})).then((function(e){return r=r.results})).then((function(e){return c=r.map((function(e){return{title:e.title,popularity:e.popularity,genre:"Valami genre",voteCount:e.vote_count,voteAverage:e.vote_average,poster:e.poster_path,id:e.id,overview:e.overview}}))})).then((function(e){return $=c})).then((function(e){return F([])})).then((function(e){return G(0)}))},de=function(e){Z=!0,Y="Movies found",13==e.keyCode&&function(e){return H.apply(this,arguments)}(e.target.value).then((function(e){return r=e})).then((function(e){return r=r.results})).then((function(e){return c=r.map((function(e){return{title:e.title,popularity:e.popularity,genre:"Valami genre",voteCount:e.vote_count,voteAverage:e.vote_average,poster:e.poster_path,id:e.id,overview:e.overview}}))})).then((function(e){return $=c})).then((function(e){return Z=!1})).then((function(e){return Y=0==$.length?"No movies found":"Movies found"})).then((function(e){return F([])})).then((function(e){return G(0)}))},he=ae-Math.min(ae,$.length-V*ae);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(I.a,{maxWidth:"md",children:[Object(a.jsx)("br",{}),Object(a.jsx)(C.a,{className:e.paper,children:Object(a.jsxs)(W.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(a.jsx)(W.a,{item:!0,xs:1}),Object(a.jsx)(W.a,{item:!0,children:Object(a.jsx)(T.a,{})}),Object(a.jsx)(W.a,{item:!0,xs:9,children:Object(a.jsx)(M.a,{fullWidth:!0,id:"input-with-icon-grid",label:"Search for your movie",onKeyDown:function(e){return de(e)}})})]})}),Object(a.jsxs)(C.a,{className:e.paper,children:[Object(a.jsx)(ie,{}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(b.a,{className:e.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[Object(a.jsxs)("colgroup",{children:[Object(a.jsx)("col",{width:"7%"}),Object(a.jsx)("col",{width:"43%"}),Object(a.jsx)("col",{width:"20%"}),Object(a.jsx)("col",{width:"10%"}),Object(a.jsx)("col",{width:"10%"}),Object(a.jsx)("col",{width:"10%"})]}),Object(a.jsx)(ce,{classes:e,order:s,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var t=$.map((function(e){return e.title}));F(t)}else F([])},onRequestSort:function(e,t){l(j===t&&"asc"===s?"desc":"asc"),x(t)},rowCount:$.length}),Object(a.jsxs)(f.a,{children:[ne($,te(s,j)).slice(V*ae,V*ae+ae).map((function(t,n){var r,c=(r=t.title,-1!==D.indexOf(r)),i="enhanced-table-checkbox-".concat(n);return Object(a.jsxs)(O.a,{hover:!0,onClick:function(e){return function(e,t,n,r,c){var a=[];-1===D.indexOf(r)&&(a=a.concat(r)),F(a),L=t,Q=c,X=r}(0,t.title,t.overview,t.id,t.poster)},role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,height:80,children:[Object(a.jsx)(g.a,{padding:"none",align:"center",style:{verticalAlign:"bottom"},children:Object(a.jsx)("img",{className:e.img,src:t.poster?"https://image.tmdb.org/t/p/w200"+t.poster:R,height:70})}),Object(a.jsx)(g.a,{component:"th",id:i,scope:"row",padding:"checkbox",children:t.title}),Object(a.jsx)(g.a,{align:"left",children:t.genre}),Object(a.jsx)(g.a,{align:"right",children:t.popularity}),Object(a.jsx)(g.a,{align:"right",children:t.voteCount}),Object(a.jsx)(g.a,{align:"right",children:t.voteAverage})]},t.title)})),he>0&&Object(a.jsx)(O.a,{style:{height:80*he},children:Object(a.jsx)(g.a,{colSpan:6})})]})]})}),Object(a.jsx)(v.a,{rowsPerPageOptions:[5],component:"div",count:$.length,rowsPerPage:ae,page:V,onChangePage:function(e,t){G(t)}})]}),Object(a.jsx)(C.a,{className:e.paper,children:Object(a.jsxs)(W.a,{container:!0,spacing:2,children:[Object(a.jsx)(W.a,{item:!0,xs:3,children:Object(a.jsx)(_.a,{className:e.image,align:"left",pl:1.5,pt:.5,children:Object(a.jsx)("img",{className:e.img,src:Q?"https://image.tmdb.org/t/p/w500"+Q:R,height:280})})}),Object(a.jsx)(W.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(a.jsx)(W.a,{item:!0,container:!0,direction:"column",spacing:0,children:Object(a.jsxs)(S.a,{className:t.root,children:[Object(a.jsx)(N.a,{children:Object(a.jsxs)(A.a,{children:[Object(a.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"h2",children:L}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(a.jsxs)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(d.a)(E),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"]})]})}),Object(a.jsxs)(P.a,{children:[Object(a.jsx)(B.a,{size:"small",color:"primary",onClick:function(e){return le()},children:"Wikipedia"}),Object(a.jsx)(B.a,{size:"small",color:"primary",onClick:function(e){return function(e){var t="";U(X).then((function(e){return r=e})).then((function(e){return t=r.imdb_id})).then((function(e){return window.open("https://www.imdb.com/title/"+t,"_blank","status=yes")}))}()},children:"IMDB"}),Object(a.jsx)(B.a,{size:"small",color:"secondary",onClick:function(e){return ue(0)},children:"Related movies"})]})]})})})]})})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]})}l.a.render(Object(a.jsx)(le,{}),document.querySelector("#root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.59b71c8d.chunk.js.map