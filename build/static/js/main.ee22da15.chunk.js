(this.webpackJsonpprogramom=this.webpackJsonpprogramom||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var r,i,a=n(4),c=n(0),o=n.n(c),s=n(11),l=n.n(s),u=n(17),d=n(3),h=n(52),p=n(57),j=n(153),b=n(10),f=n(172),m=n(173),g=n(158),x=n(171),v=n(155),O=n(176),y=n(157),w=n(178),k=n(163),_=n(164),S=n(109),C=n(175),N=n(165),P=n(166),T=n(168),W=n(167),D=n(169),B=n(177),M=n(159),A=n(63),F=n.n(A),I=n(162),R=n(170),q=n.p+"static/media/poster.23bcae56.jpg",z=n.p+"static/media/Wikipedia_Logo.f329535e.png",U=n(14),H=n.n(U),J=n(19);function L(){return(L=Object(J.a)(H.a.mark((function e(t){var n,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/search/movie?api_key=5863736706c2c1885e88c279d92b75cf&language=en-US&query=".concat(t,"&page=1&include_adult=false"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function V(){return(V=Object(J.a)(H.a.mark((function e(t){var n,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"/similar?api_key=5863736706c2c1885e88c279d92b75cf&language=en-US&page=1"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function G(e){return K.apply(this,arguments)}function K(){return(K=Object(J.a)(H.a.mark((function e(t){var n,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"/external_ids?api_key=5863736706c2c1885e88c279d92b75cf"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function E(){return(E=Object(J.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/genre/movie/list?api_key=5863736706c2c1885e88c279d92b75cf&language=en-US",e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=5863736706c2c1885e88c279d92b75cf&language=en-US");case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search TMDB");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(J.a)(H.a.mark((function e(t){var n,r,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://imdb-api.com/en/API/Wikipedia/k_68dd422k/".concat(t),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(1),alert("Failed to search Wiki ID");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var Y="Movies will be listed here after search",Z=0,$="Click on a movie above after search to see details",ee="",te="",ne="",re="",ie=!1,ae=!1,ce=[],oe=[];function se(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function le(e,t){return"desc"===e?function(e,n){return se(e,n,t)}:function(e,n){return-se(e,n,t)}}function ue(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}(function(){return E.apply(this,arguments)})().then((function(e){return r=e})).then((function(e){return r=r.genres})).then((function(e){return i=r.map((function(e){return{id:e.id,name:e.name}}))})).then((function(e){return oe=i}));var de=Object(j.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(b.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},tableRow:{height:70}}})),he=Object(j.a)((function(e){return{root:{maxWidth:2e3,background:"lightgrey"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},textField:{width:"75ch"},margin:{margin:e.spacing(10)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),pe=Object(j.a)({root:{maxWidth:650,boxShadow:"0 0px 0px 0px"}});function je(){var e=he(),t=pe(),n=o.a.useState("desc"),c=Object(u.a)(n,2),s=c[0],l=c[1],j=o.a.useState(""),b=Object(u.a)(j,2),A=b[0],U=b[1],H=o.a.useState([]),J=Object(u.a)(H,2),K=J[0],E=J[1],X=o.a.useState(0),se=Object(u.a)(X,2),je=se[0],be=se[1],fe=o.a.useState(5),me=Object(u.a)(fe,2),ge=me[0],xe=(me[1],function(e){Y=$+" - related movies",ae=!0,E([]),be(0),function(e){return V.apply(this,arguments)}(Z).then((function(e){return r=e})).then((function(e){return r=r.results})).then((function(e){return i=r.map((function(e){return{title:e.title,popularity:e.popularity,genre:e.genre_ids.length>0?oe.find((function(t){return t.id==e.genre_ids[0]})).name:"",voteCount:e.vote_count,voteAverage:e.vote_average,poster:e.poster_path,id:e.id,overview:e.overview}}))})).then((function(e){return ce=i})).then((function(e){return ae=!1})).then((function(e){return Y=0==ce.length?"No rerelated movies found":$+" - related movies"})).then((function(e){return E([])})).then((function(e){return be(0)}))}),ve=function(e){Y="Movies found",e.target.value&&13==e.keyCode&&($="Click on a movie above after search to see details",ee="",te="",ne="",Z=0,re="",ae=!0,E([]),be(0),function(e){return L.apply(this,arguments)}(e.target.value).then((function(e){return r=e})).then((function(e){return r=r.results})).then((function(e){return i=r.map((function(e){return{title:e.title,popularity:e.popularity,genre:e.genre_ids.length>0?oe.find((function(t){return t.id==e.genre_ids[0]})).name:"",voteCount:e.vote_count,voteAverage:e.vote_average,poster:e.poster_path,id:e.id,overview:e.overview}}))})).then((function(e){return ce=i})).then((function(e){return ae=!1})).then((function(e){return Y=0==ce.length?"No movies found":"Movies found"})).then((function(e){return E([])})).then((function(e){return be(0)})))},Oe=ge-Math.min(ge,ce.length-je*ge),ye=[{id:"title",numeric:!1,disablePadding:!1,label:"Title"},{id:"genre",numeric:!1,disablePadding:!1,label:"Genre"},{id:"popularity",numeric:!0,disablePadding:!1,label:"Popularity"},{id:"voteCount",numeric:!0,disablePadding:!1,label:"Vote_#"},{id:"voteAverage",numeric:!0,disablePadding:!1,label:"Vote_Avg"}],we=function(e){var t=e.classes,n=e.order,r=e.orderBy,i=(e.rowCount,e.onRequestSort);return Object(a.jsx)(v.a,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(g.a,{}),ye.map((function(e){return Object(a.jsx)(g.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n,children:Object(a.jsxs)(w.a,{active:r===e.id,direction:r===e.id?n:"asc",onClick:(c=e.id,function(e){i(e,c)}),children:[e.label,r===e.id?Object(a.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var c}))]})})},ke=function(t){return Object(a.jsx)(S.a,{className:e.paper,children:Object(a.jsxs)(M.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(a.jsx)(M.a,{item:!0,xs:1}),Object(a.jsx)(M.a,{item:!0,children:Object(a.jsx)(F.a,{})}),Object(a.jsx)(M.a,{item:!0,xs:9,children:Object(a.jsx)(B.a,{fullWidth:!0,id:"input-with-icon-grid",label:"Search for your movie",onKeyDown:function(e){return ve(e)}})})]})})},_e=function(e){var t=de();return ae?Object(a.jsx)(I.a,{}):Object(a.jsx)(k.a,{className:Object(d.a)(t.root),children:Object(a.jsx)(_.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:Y})})},Se=function(n){return Object(a.jsx)(S.a,{className:e.paper,children:Object(a.jsxs)(M.a,{container:!0,spacing:2,children:[Object(a.jsx)(M.a,{item:!0,xs:3,children:Object(a.jsx)(C.a,{className:e.image,align:"left",pl:1.5,pt:.5,children:Object(a.jsx)("img",{className:e.img,src:ne?"https://image.tmdb.org/t/p/w500"+ne:q,height:280})})}),Object(a.jsx)(M.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(a.jsx)(M.a,{item:!0,container:!0,direction:"column",spacing:0,children:Object(a.jsxs)(N.a,{className:t.root,children:[Object(a.jsx)(P.a,{children:Object(a.jsxs)(W.a,{children:[Object(a.jsx)(_.a,{gutterBottom:!0,variant:"h5",component:"h2",children:$}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(a.jsxs)(_.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(p.a)(ee),Object(a.jsx)(C.a,{color:"primary",onClick:function(e){return function(e){var t,n="",i="";G(Z).then((function(e){return r=e})).then((function(e){return n=r.imdb_id})).then((function(e){return n?Q(n).then((function(e){return t=e})).then((function(e){return i=t.url})).then((function(e){return te=t.plotShort.html})).then((function(e){return i?ie=!0:alert("There is no Wikipedia page available for this movie")})).then((function(e){return E([])})):alert("There is no Wikipedia page available for this movie")}))}()},display:ie?"none":"",children:Object(a.jsxs)(_.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(a.jsx)("br",{})," ",re]})}),Object(a.jsxs)(C.a,{color:"primary",display:ie?"":"none",children:[Object(a.jsxs)(_.a,{variant:"body2",color:"textSecondary",component:"p",children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("img",{className:e.img,src:z,height:70}),Object(p.a)(te)]}),Object(a.jsx)(_.a,{variant:"body2",color:"textPrimary",component:"p",onClick:function(e){return ie=!1,void E([])},children:"... click to hide Wikipedia description"})]}),"\xa0\xa0\xa0\xa0\xa0\xa0  \xa0\xa0\xa0\xa0\xa0\xa0"]})]})}),Object(a.jsx)(C.a,{display:ee?"":"none",children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(D.a,{size:"small",color:"primary",onClick:function(e){return function(e){var t,n="",i="";G(Z).then((function(e){return r=e})).then((function(e){return n=r.imdb_id})).then((function(e){return Q(n).then((function(e){return t=e})).then((function(e){return i=t.url})).then((function(e){return i?window.open(i,"_blank","status=yes"):alert("There is no Wikipedia page available for this movie")}))}))}()},children:"Wikipedia"}),Object(a.jsx)(D.a,{size:"small",color:"primary",onClick:function(e){return function(e){var t="";G(Z).then((function(e){return r=e})).then((function(e){return t=r.imdb_id})).then((function(e){return t?window.open("https://www.imdb.com/title/"+t,"_blank","status=yes"):alert("There is no IMDB page available for this movie")}))}()},children:"IMDB"}),Object(a.jsx)(D.a,{size:"small",color:"secondary",onClick:function(e){return xe()},children:"Related movies"})]})})]})})})]})})};return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(R.a,{maxWidth:"md",children:[Object(a.jsx)("br",{}),Object(a.jsx)(ke,{}),Object(a.jsxs)(S.a,{className:e.paper,children:[Object(a.jsx)(_e,{}),Object(a.jsx)(x.a,{children:Object(a.jsxs)(f.a,{className:e.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[Object(a.jsxs)("colgroup",{children:[Object(a.jsx)("col",{width:"7%"}),Object(a.jsx)("col",{width:"43%"}),Object(a.jsx)("col",{width:"20%"}),Object(a.jsx)("col",{width:"10%"}),Object(a.jsx)("col",{width:"10%"}),Object(a.jsx)("col",{width:"10%"})]}),Object(a.jsx)(we,{classes:e,order:s,orderBy:A,onRequestSort:function(e,t){l(A===t&&"asc"===s?"desc":"asc"),U(t)},rowCount:ce.length}),Object(a.jsxs)(m.a,{children:[ue(ce,le(s,A)).slice(je*ge,je*ge+ge).map((function(t,n){var r,i=(r=t.title,-1!==K.indexOf(r)),c="enhanced-table-checkbox-".concat(n);return Object(a.jsxs)(y.a,{hover:!0,onClick:function(e){return function(e,t,n,r,i){var a=[];-1===K.indexOf(r)&&(a=a.concat(r)),E(a),$=t,ee=n,ne=i,Z=r,re="... click for Wikipedia description",ie=!1}(0,t.title,t.overview,t.id,t.poster)},role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,height:80,children:[Object(a.jsx)(g.a,{padding:"none",align:"center",style:{verticalAlign:"bottom"},children:Object(a.jsx)("img",{className:e.img,src:t.poster?"https://image.tmdb.org/t/p/w200"+t.poster:q,height:70})}),Object(a.jsx)(g.a,{component:"th",id:c,scope:"row",padding:"checkbox",children:t.title}),Object(a.jsx)(g.a,{align:"left",children:t.genre}),Object(a.jsx)(g.a,{align:"right",children:Object(a.jsx)(h.a,{value:t.popularity,displayType:"text",decimalScale:2,fixedDecimalScale:!0})}),Object(a.jsx)(g.a,{align:"right",children:Object(a.jsx)(h.a,{value:t.voteCount,displayType:"text",thousandSeparator:" "})}),Object(a.jsx)(g.a,{align:"right",children:Object(a.jsx)(h.a,{value:t.voteAverage,displayType:"text",decimalScale:1,fixedDecimalScale:!0})})]},t.title)})),Oe>0&&Object(a.jsx)(y.a,{style:{height:80*Oe},children:Object(a.jsx)(g.a,{colSpan:6})})]})]})}),Object(a.jsx)(O.a,{rowsPerPageOptions:[5],component:"div",count:ce.length,rowsPerPage:ge,page:je,onChangePage:function(e,t){be(t)}})]}),Object(a.jsx)(Se,{})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]})}l.a.render(Object(a.jsx)(je,{}),document.querySelector("#root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.ee22da15.chunk.js.map